(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35bc039a","chunk-2d0c1f1b"],{"0e06":function(t,a,i){"use strict";var e=i("5dfa"),s=i.n(e);s.a},"47ce":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAm0lEQVQ4T+2SsQ3CMBRE30kZgBEyAH0KGpZIwRDUTMAEzBDRMAZjRToUyUiRE+NEMV3c+vx0/32LwkeFeezA7Ub/79B2DdyAq6R+rrPtE3CWdI/vJw1tV8AzBC8xNMBeQCvpnQUOgRQ0BxveJh3GUKABks2+TX8uZQQ9AMfUmOOxs1sO0AfQzTlb5HDLb8w2XAvfgWuNTfPFHX4AYg0tFRd5imsAAAAASUVORK5CYII="},"5dfa":function(t,a,i){},"619c":function(t,a,i){"use strict";(function(t){i("99af"),i("d81d"),i("b680");var e=i("5530"),s=i("e862"),o=i("230d"),r=i("fb18");a["a"]={props:["filters","type"],data:function(){return{data:{pageNumber:1,pageSize:50,totalPage:0,list:[],load:!0},loginList:[],dialog:{visible:!1,list:[],mguid:"",dayperiod:""},timer:null}},watch:{type:function(t,a){1==t&&(this.data=Object.assign({},this.$options.data().data),this.getData())}},mounted:function(){this.getData()},components:{TimeLogin:r["default"]},methods:{upDown:function(t){t.listshow=!t.listshow,t.listshow&&1==t.pageNumber&&this.userStatlist(t)},getData:function(t){var a=this;t&&(this.data.pageNumber=t);var i=this.data,o=i.pageNumber,r=i.pageSize,n=Object(e["a"])(Object(e["a"])({},this.filters),{},{pageNumber:o,pageSize:r});s["n"].timeList(n).then((function(t){if(t.ok){var i=t.data;if(1==o&&(a.data.list=[]),i){a.data.totalPage=i.totalPage;var e=i.list;e.map((function(t,i){t.time=t.dayperiod?t.dayperiod.substring(0,4)+"-"+t.dayperiod.substring(4,6)+"-"+t.dayperiod.substring(6,8):"--",t.userlist=[],t.listshow=!1,t.pageNumber=1,t.pageSize=35,t.totalPage=1,0==i&&1==o&&a.userStatlist(t)})),a.data.list=a.data.list.concat(e),1==o&&a.listenScroll()}a.data.load=!0}else Object(s["C"])(t)}))},loadMoreUser:function(t){t.pageNumber++,this.userStatlist(t)},userStatlist:function(t){t.listshow=!0;var a={pageNumber:t.pageNumber,pageSize:1==t.pageNumber?t.pageSize-1:t.pageSize,period:t.dayperiod};s["n"].timeUserList(a).then((function(a){if(a.ok){var i=a.data;if(1==t.pageNumber&&(t.userlist=[]),i){t.totalPage=i.totalPage;var e=i.list;e.map((function(t,a){t.avatar=Object(o["g"])(t.avatar)})),t.userlist=t.userlist.concat(e)}}else Object(s["C"])(a)}))},getLoginList:function(t){var a=this,i={mguid:t.mguid,period:t.dayperiod};s["n"].loginInfoList(i).then((function(t){if(t.ok){var i=t.data;i.map((function(t){var a="";switch(t.devicetype){case 1:a="PC";break;case 2:a="安卓";break;case 3:a="IOS";break;case 4:a="H5";break;case 5:a="APP";break}t.devicetype=a})),a.loginList=i}}))},setTimeList:function(t){for(var a=[],i=0;i<25;i++){var e={};e.count=t["hour"+i]||0,e.heightStyle="",e.time=0!=i?i<10?"0"+i+":00":i+":00":"0",a.push(e)}var s=Math.max.apply(Math,a.map((function(t){return t.count}))),o=parseFloat(240/s).toFixed(2);a.map((function(t){t.heightStyle=t.count*o+"px"})),this.dialog.list=a,this.getLoginList(t),this.dialog.dayperiod=t.dayperiod},showTimeList:function(t){this.dialog.visible=!0,this.dialog.mguid=t.mguid,this.setTimeList(t)},listenScroll:function(){var a=this;t(window).unbind("scroll"),t(window).scroll((function(){var i=t(this).scrollTop(),e=t(document).height(),s=t(this).height();a.data.totalPage>a.data.pageNumber&&a.data.load&&i+s==e&&(a.data.pageNumber++,a.data.load=!1,a.getData())}))}}}}).call(this,i("1157"))},"9df6":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"type==1"}],staticClass:"maincontent"},[e("div",{staticClass:"left-line"}),t._l(t.data.list,(function(a){return e("div",{key:a.id,staticClass:"type-item"},[e("div",{staticClass:"item-header"},[e("span",{class:["circle",a.listshow?"redcircle":""],on:{click:function(i){return t.upDown(a)}}}),e("span",{staticClass:"info",on:{click:function(i){return t.upDown(a)}}},[t._v(" "+t._s(a.time)+" "),e("img",{class:["up",a.listshow?"down":""],attrs:{src:i("7a64")}}),t._v(" 当日"),e("span",{staticClass:"num"},[t._v(t._s(a.usercount))]),t._v("人登录 "),e("span",{staticClass:"totalcount"},[t._v("(共"),e("span",[t._v(t._s(a.totalcount))]),t._v("次记录)")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:a.listshow,expression:"v.listshow"}],staticClass:"userlist"},[e("div",{staticClass:"clearfloat"},[t._l(a.userlist,(function(a){return e("div",{key:a.id,class:["user-col",t.dialog.visible&&t.dialog.mguid==a.mguid&&t.dialog.dayperiod==a.dayperiod?"active":""],on:{click:function(i){return t.showTimeList(a)}}},[e("div",{staticClass:"left-avatar"},[e("el-image",{staticClass:"login-avatar",attrs:{src:a.avatar}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("img",{staticClass:"error-img",attrs:{src:i("9ca6")}})])])],1),e("div",{staticClass:"col-center overell"},[e("p",{staticClass:"user-nick overell"},[t._v(t._s(a.nick)+" "),e("span",{staticClass:"user-rolename"},[t._v(t._s(a.rolename))])]),e("p",{staticClass:"user-totalcount"},[t._v(t._s(a.totalcount)+"次登录")])]),e("div",{staticClass:"righticon"},[e("img",{directives:[{name:"show",rawName:"v-show",value:!(t.dialog.visible&&t.dialog.mguid==a.mguid&&t.dialog.dayperiod==a.dayperiod),expression:"!(dialog.visible&&dialog.mguid==item.mguid&&dialog.dayperiod==item.dayperiod)"}],staticClass:"updownicon downicon",attrs:{src:i("7a64")}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.dialog.visible&&t.dialog.mguid==a.mguid&&t.dialog.dayperiod==a.dayperiod,expression:"dialog.visible&&dialog.mguid==item.mguid&&dialog.dayperiod==item.dayperiod"}],staticClass:"updownicon upicon",attrs:{src:i("47ce")}})])])})),e("div",{directives:[{name:"show",rawName:"v-show",value:a.totalPage>a.pageNumber,expression:"v.totalPage>v.pageNumber"}],staticClass:"seemore",on:{click:function(i){return t.loadMoreUser(a)}}},[t._v("查看更多")])],2)])])})),e("TimeLogin",{attrs:{dialog:t.dialog,loginList:t.loginList,type:"day"}})],2)},s=[],o=i("619c"),r=o["a"],n=(i("0e06"),i("2877")),l=Object(n["a"])(r,e,s,!1,null,"2b691bd0",null);a["default"]=l.exports}}]);