(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3f1fad4"],{"09ba":function(t,i,a){"use strict";(function(t){a("99af"),a("d81d"),a("b680");var e=a("5530"),s=a("e862"),o=a("230d"),n=a("fb18");i["a"]={props:["filters","type"],data:function(){return{data:{pageNumber:1,pageSize:50,totalPage:0,list:[],load:!0},loginList:[],dialog:{visible:!1,list:[],uid:"",dayperiod:""}}},watch:{type:function(t,i){1==t&&(this.data=Object.assign({},this.$options.data().data),this.getData())}},mounted:function(){this.getData()},components:{TimeLogin:n["default"]},methods:{upDown:function(t){t.listshow=!t.listshow,t.listshow&&0==t.userlist.length&&this.userStatlist(t)},getData:function(t){var i=this;t&&(this.data.pageNumber=t);var a=this.data,o=a.pageNumber,n=a.pageSize,r=Object(e["a"])(Object(e["a"])({},this.filters),{},{pageNumber:o,pageSize:n});s["m"].timeList(r).then((function(t){if(t.ok){var a=t.data;if(1==o&&(i.data.list=[]),a){i.data.totalPage=a.totalPage;var e=a.list;e.map((function(t,a){t.time=t.dayperiod?t.dayperiod.substring(0,4)+"-"+t.dayperiod.substring(4,6)+"-"+t.dayperiod.substring(6,8):"--",t.userlist=[],t.listshow=!1,t.pageNumber=1,t.pageSize=35,t.totalPage=1,0==a&&1==o&&i.userStatlist(t)})),i.data.list=i.data.list.concat(e),1==o&&i.listenScroll()}i.data.load=!0}else Object(s["C"])(t)}))},loadMoreUser:function(t){t.pageNumber++,this.userStatlist(t)},userStatlist:function(t){t.listshow=!0;var i={pageNumber:t.pageNumber,pageSize:1==t.pageNumber?t.pageSize-1:t.pageSize,period:t.dayperiod};s["m"].timeUserList(i).then((function(i){if(i.ok){var a=i.data;if(1==t.pageNumber&&(t.userlist=[]),a){t.totalPage=a.totalPage;var e=a.list;e.map((function(t,i){t.avatar=Object(o["g"])(t.avatar)})),t.userlist=t.userlist.concat(e)}}else Object(s["C"])(i)}))},showTimeList:function(t){this.dialog.visible=!0,this.dialog.uid=t.uid,this.dialog.dayperiod=t.dayperiod,this.setTimeList(t)},setTimeList:function(t){for(var i=[],a=0;a<25;a++){var e={};e.count=t["hour"+a]||0,e.heightStyle="",e.time=0!=a?a<10?"0"+a+":00":a+":00":"0",i.push(e)}var s=Math.max.apply(Math,i.map((function(t){return t.count}))),o=parseFloat(240/s).toFixed(2);i.map((function(t){t.heightStyle=t.count*o+"px"})),this.dialog.list=i,this.getLoginList(t)},getLoginList:function(t){var i=this,a={uid:t.uid,period:t.dayperiod};s["m"].timeLoginList(a).then((function(t){if(t.ok){var a=t.data;a.map((function(t){var i="";switch(t.devicetype){case 1:i="PC";break;case 2:i="安卓";break;case 3:i="IOS";break;case 4:i="H5";break;case 5:i="APP";break}t.devicetype=i})),i.loginList=a}}))},listenScroll:function(){var i=this;t(window).unbind("scroll"),t(window).scroll((function(){var a=t(this).scrollTop(),e=t(document).height(),s=t(this).height();i.data.totalPage>i.data.pageNumber&&i.data.load&&a+s==e&&(i.data.pageNumber++,i.data.load=!1,i.getData())}))},seeInfo:function(t){this.$emit("seeInfo",t)}}}}).call(this,a("1157"))},"54d8":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"type==1"}],staticClass:"maincontent"},[e("div",{staticClass:"left-line"}),t._l(t.data.list,(function(i){return e("div",{key:i.id,staticClass:"type-item"},[e("div",{staticClass:"item-header"},[e("span",{class:["circle",i.listshow?"redcircle":""],on:{click:function(a){return t.upDown(i)}}}),e("span",{staticClass:"info",on:{click:function(a){return t.upDown(i)}}},[t._v(" "+t._s(i.time)+" "),e("img",{class:["up",i.listshow?"down":""],attrs:{src:a("7a64")}}),t._v(" 当日"),e("span",{staticClass:"num"},[t._v(t._s(i.usercount))]),t._v("人登录 "),e("span",{staticClass:"totalcount"},[t._v("(共"),e("span",[t._v(t._s(i.totalcount))]),t._v("次记录)")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.listshow,expression:"v.listshow"}],staticClass:"userlist"},[e("div",{staticClass:"clearfloat"},[t._l(i.userlist,(function(i){return e("div",{key:i.id,class:["user-col",t.dialog.visible&&t.dialog.uid==i.uid&&t.dialog.dayperiod==i.dayperiod?"active":""]},[e("div",{staticClass:"left-avatar",on:{click:function(a){return t.seeInfo(i)}}},[e("el-image",{staticClass:"login-avatar",attrs:{src:i.avatar}},[e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("img",{staticClass:"error-img",attrs:{src:a("da60")}})])])],1),e("div",{staticClass:"col-center overell"},[e("p",{staticClass:"user-nick overell",on:{click:function(a){return t.seeInfo(i)}}},[t._v(t._s(i.nick))]),e("p",{staticClass:"user-totalcount",on:{click:function(a){return t.showTimeList(i)}}},[t._v(t._s(i.totalcount)+"次登录")])]),e("div",{staticClass:"righticon",on:{click:function(a){return t.showTimeList(i)}}},[e("img",{directives:[{name:"show",rawName:"v-show",value:!(t.dialog.visible&&t.dialog.uid==i.uid),expression:"!(dialog.visible&&dialog.uid==item.uid)"}],staticClass:"updownicon downicon",attrs:{src:a("7a64")}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.dialog.visible&&t.dialog.uid==i.uid,expression:"dialog.visible&&dialog.uid==item.uid"}],staticClass:"updownicon upicon",attrs:{src:a("47ce")}})])])})),e("div",{directives:[{name:"show",rawName:"v-show",value:i.totalPage>i.pageNumber,expression:"v.totalPage>v.pageNumber"}],staticClass:"seemore",on:{click:function(a){return t.loadMoreUser(i)}}},[t._v("查看更多")])],2)])])})),e("TimeLogin",{attrs:{dialog:t.dialog,loginList:t.loginList,type:"day"}})],2)},s=[],o=a("09ba"),n=o["a"],r=(a("56e8"),a("2877")),l=Object(r["a"])(n,e,s,!1,null,"57511ec8",null);i["default"]=l.exports},"56e8":function(t,i,a){"use strict";var e=a("d0da"),s=a.n(e);s.a},d0da:function(t,i,a){}}]);