(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c4a4a75"],{"0e3f":function(t,i,s){"use strict";var e=s("fdd7"),a=s.n(e);a.a},2719:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"type==2"}],staticClass:"maincontent usermaincontent"},[e("div",{staticClass:"left-line"}),t._l(t.data.list,(function(i,a){return e("div",{key:i.id,staticClass:"type-item"},[e("div",{staticClass:"item-header"},[e("span",{class:["circle",i.dayshow?"redcircle":""],on:{click:function(s){return t.upDown(i)}}}),e("span",{staticClass:"info",on:{click:function(s){return t.upDown(i)}}},[e("span",{staticClass:"nickrole"},[t._v(" "+t._s(i.nick)+" "),e("span",{staticClass:"user-role"},[t._v(t._s(i.rolename))])]),e("img",{class:["up",i.dayshow?"down":""],attrs:{src:s("7a64")}}),e("span",{staticClass:"totalcount"},[t._v("共"),e("span",[t._v(t._s(i.totalcount))]),t._v("次记录")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.dayshow,expression:"v.dayshow"}],staticClass:"daylist clearfloat"},[e("div",{staticClass:"dayleft",on:{click:function(i){return t.scrollLeft(a)}}},[e("img",{attrs:{src:s("28e5")}})]),e("div",{staticClass:"daywrapper"},[e("div",{staticClass:"clearfloat scroll-content",style:{width:i.daylist.length>0?126*i.daylist.length+"px":"3000px"}},t._l(i.daylist,(function(s){return e("div",{key:s.id,class:["day-col",i.loginid==s.id?"active":""],on:{click:function(e){return t.seeUserLoginList(i,s)}}},[e("p",{staticClass:"daytime"},[t._v(t._s(s.time))]),e("p",{staticClass:"logintime"},[t._v(t._s(s.totalcount)+"次登录")])])})),0)]),e("div",{staticClass:"dayright",on:{click:function(s){return t.scrollRight(a,i)}}},[e("img",{attrs:{src:s("28e5")}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.timeshow&&i.dayshow,expression:"v.timeshow&&v.dayshow"}],staticClass:"timecontent usertimecontent"},[e("div",{staticClass:"ytitle"},[t._v("次数")]),e("div",{staticClass:"timelist"},[t._l(i.timelist,(function(s){return e("span",{key:s.time,staticClass:"time-col"},[e("span",{staticClass:"count"},[e("span",{staticClass:"columnar",style:{height:s.heightStyle},on:{mouseover:function(e){return t.timeLoginList(e,s,i)},mouseleave:t.hideLoginList}}),s.count>0?e("span",{staticClass:"curcount"},[t._v(t._s(s.count)+"次")]):t._e()]),e("span",{staticClass:"time"},[t._v(t._s(s.time))])])})),e("span",{staticClass:"xtitle"},[t._v("时间")])],2)])])})),e("transition",{attrs:{name:"el-fade-in-linear"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.timelogin.show,expression:"timelogin.show"}],staticClass:"timeloginlist",style:{top:t.timelogin.top,left:t.timelogin.left},attrs:{id:"userloginlist"},on:{mouseenter:t.mouseEnterList,mouseleave:t.hideLoginList}},[e("ul",t._l(t.timelogin.list,(function(i){return e("li",{key:i.id,staticClass:"login-col"},[e("span",{staticClass:"timeperiod"},[t._v(t._s(i.timeperiod))]),e("span",{staticClass:"ip"},[t._v(t._s(i.ip))]),e("span",{staticClass:"city"},[t._v(t._s(i.province||i.city?i.province+i.city:"--"))]),e("span",{staticClass:"devicetype"},[t._v(t._s(i.devicetype))]),e("span",[t._v(t._s(i.deviceinfo||"--"))])])})),0)])])],2)},a=[],n=s("5540"),o=n["a"],l=(s("0e3f"),s("2877")),r=Object(l["a"])(o,e,a,!1,null,"66b7058a",null);i["default"]=r.exports},"28e5":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABdUlEQVRIS+1UsUoDQRCdWbb0A5Kr/AIlhakjWIuldorJzoYjoIKdYipBC1HkyC5nIygI0TZiKWglaCso+B+By8jKBa4wuXiXgIJbzrLvzbx5bxEmfHDC+PBPkKrw75EoCIIpKeUtAFwRUeBaj2v3vV7vqF6vX343zkgTNJtNWSwW28y8gIhzRPTqaoVCoYOIJSFEuVarfWQmsNaGzLyKiPNE9OCArLWu4yVErCilngYtI3UCa+0eM+8AwIrW+toBGWMOAWBTCLGolHKyDTxDCYwx64h4xswbWuuTuHMfAE4BYI2IztNsNJCg1WpNI+IbABxrrbcdUBiGM1EUvSDiLhHtp4G7+x8RGGNmAeB5LASx1pOTqD9+f8lCiGWl1E28hwNm3sq95ATJl02llJVqtfo4Vps6sGTQoigq+b7/7mqe53WYudTtdsuNRiN70BLfgvP8BRHZRO3OOY2I2pmTPIodMyc5D/jQHOQF7r9P/YvyEv19gk9PfKIZNoihPAAAAABJRU5ErkJggg=="},5540:function(t,i,s){"use strict";(function(t){s("99af"),s("d81d"),s("b680");var e=s("5530"),a=s("e862");s("230d");i["a"]={props:["filters","type"],data:function(){return{data:{pageNumber:1,pageSize:50,totalPage:0,list:[],load:!0},scroll:300,timelogin:{show:!1,top:0,left:0,list:[]},firstshow:!1,loginList:[]}},watch:{type:function(t,i){2==t&&(this.data=Object.assign({},this.$options.data().data),this.getData())}},methods:{getData:function(t){var i=this;t&&(this.data.pageNumber=t);var s=this.data,n=s.pageNumber,o=s.pageSize,l=Object(e["a"])(Object(e["a"])({},this.filters),{},{pageNumber:n,pageSize:o,order:this.order});a["n"].userList(l).then((function(t){if(t.ok){var s=t.data;if(1==n&&(i.data.list=[]),s){i.data.totalPage=s.totalPage;var e=s.list;e.map((function(t,s){t.daylist=[],t.dayshow=!1,t.pageNumber=1,t.pageSize=35,t.totalPage=1,t.order="usercount",0==s&&1==n&&(i.firstshow=!0,i.userDayList(t)),t.timeshow=!1,t.timelist=[],t.xlist=[],t.loginlist=[],t.loginid=""})),i.data.list=i.data.list.concat(e),1==n&&i.listenScroll()}i.data.load=!0}else Object(a["C"])(t)}))},upDown:function(t){t.dayshow=!t.dayshow,t.dayshow&&1==t.pageNumber&&this.userDayList(t)},userDayList:function(t){var i=this;t.dayshow=!0;var s={pageNumber:t.pageNumber,pageSize:t.pageSize,mguid:t.mguid};a["n"].userDayList(s).then((function(s){if(s.ok){var e=s.data;if(1==t.pageNumber&&(t.daylist=[]),e){t.totalPage=e.totalPage;var n=e.list;n.map((function(s,e){s.time=s.dayperiod?s.dayperiod.substring(0,4)+"-"+s.dayperiod.substring(4,6)+"-"+s.dayperiod.substring(6,8):"--",i.firstshow&&(i.firstshow=!1,t.timeshow=!0,t.loginid=s.id,i.setTimeList(t,s))})),t.daylist=t.daylist.concat(n)}}else Object(a["C"])(s)}))},scrollLeft:function(i){var s=t(".scroll-content").eq(i),e=parseInt(s.css("margin-left"));0!=e&&(e+300<0?e+=300:e=0,s.css({"margin-left":e+"px"}))},scrollRight:function(i,s){var e=t(".scroll-content").eq(i),a=parseInt(e.css("margin-left")),n=e.width(),o=t(".daywrapper").width();a==o-n||o>n||(a-300-o<-n?(a=o-n,s.pageNumber<s.totalPage&&(s.pageNumber++,this.userDayList(s))):a-=300,e.css({"margin-left":a+"px"}))},seeUserLoginList:function(t,i){t.loginid==i.id?(t.timeshow=!t.timeshow,t.loginid=""):(t.loginid=i.id,t.timeshow=!0),t.timeshow&&this.setTimeList(t,i)},setTimeList:function(t,i){for(var s=[],e=0;e<25;e++){var a={};a.count=i["hour"+e]||0,a.heightStyle="",a.time=0!=e?e<10?"0"+e+":00":e+":00":"0",s.push(a)}var n=Math.max.apply(Math,s.map((function(t){return t.count}))),o=parseFloat(240/n).toFixed(2);s.map((function(t){t.heightStyle=t.count*o+"px"})),t.timelist=s,this.getLoginList(t,i)},getLoginList:function(t,i){var s={mguid:i.mguid,period:i.dayperiod};a["n"].loginInfoList(s).then((function(i){if(i.ok){var s=i.data;s.map((function(t){var i="";switch(t.devicetype){case 1:i="PC";break;case 2:i="安卓";break;case 3:i="IOS";break;case 4:i="H5";break;case 5:i="APP";break}t.devicetype=i})),t.loginlist=s}}))},timeLoginList:function(i,s,e){var a=this;clearTimeout(this.timer);var n=t(i.currentTarget),o=n.offset(),l=n.height(),r=o.left,c=o.top+l/3,d=parseInt(s.time),u=t(window).width(),p=t(document).scrollTop(),g=[];e.loginlist.map((function(t){t.hourperiod==d&&g.push(t)})),this.timelogin.show=!0,this.timelogin.list=g,this.$nextTick((function(){var i=t("#userloginlist").innerHeight(),s=t("#userloginlist").innerWidth();a.timelogin.left=s/2+r>u&&r<s/2?"0px":r-s/2+"px",a.timelogin.top=c-i-p+"px"}))},hideLoginList:function(){var t=this;this.timer=setTimeout((function(){t.timelogin.show=!1}),300)},mouseEnterList:function(){clearTimeout(this.timer),this.timelogin.show=!0},listenScroll:function(){var i=this;t(window).unbind("scroll"),t(window).scroll((function(){var s=t(this).scrollTop(),e=t(document).height(),a=t(this).height();i.data.totalPage>i.data.pageNumber&&i.data.load&&s+a==e&&(i.data.pageNumber++,i.data.load=!1,i.getData())}))}}}}).call(this,s("1157"))},fdd7:function(t,i,s){}}]);